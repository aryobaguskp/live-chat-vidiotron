<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Live Chat Cafe</title>
<script src="/socket.io/socket.io.js"></script>

<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:Arial, Helvetica, sans-serif;
  overflow:hidden;
}

/* HEADER */
#header{
  display:flex;
  align-items:center;
  padding:20px 30px;
}

#logo{
  height:60px;
  margin-right:15px;
}

#title{
  font-size:36px;
  font-weight:bold;
}

/* CHAT AREA */
#messages{
  position:absolute;
  bottom:30px;
  left:0;
  width:100%;
  padding:0 40px;
  box-sizing:border-box;
}

.msg{
  margin-top:14px;
  font-size:30px;
  animation:slideUp .4s ease;
}

@keyframes slideUp{
  from{transform:translateY(30px);opacity:0}
  to{transform:translateY(0);opacity:1}
}
</style>
</head>

<body>

<div id="header">
  <img src="logo.png" id="logo">
  <div id="title">LIVE CHAT CAFÉ</div>
</div>

<div id="messages"></div>

<script>
const socket = io();
const box = document.getElementById("messages");

socket.on("refresh-messages", msgs => {
  box.innerHTML = "";
  msgs.forEach(m => {
    const div = document.createElement("div");
    div.className = "msg";
    div.style.opacity = m.opacity;
    div.innerHTML = `<b>${m.username}</b>: ${m.message}`;
    box.appendChild(div); // ⬅️ PENTING: append (bukan prepend)
  });
});
</script>

</body>
</html>
