<!DOCTYPE html>
<html>
<head>
<title>Videotron</title>
<script src="/socket.io/socket.io.js"></script>
<style>
body{background:black;color:white;font-family:Arial;font-size:32px}
#box{position:fixed;bottom:20px;width:100%}
.msg{
 margin:10px;
 animation:up .6s ease;
}
@keyframes up{from{transform:translateY(40px);opacity:0}to{opacity:1}}
</style>
</head>
<body>

<div id="box"></div>

<script>
const socket=io();
const box=document.getElementById("box");

socket.on("refresh-messages",msgs=>{
 box.innerHTML="";
 msgs.forEach(m=>{
  const d=document.createElement("div");
  d.className="msg";
  d.style.opacity=m.opacity;
  d.innerHTML=`<b>${m.username}</b>: ${m.message}`;
  box.prepend(d);
 });
});
</script>

</body>
</html>
